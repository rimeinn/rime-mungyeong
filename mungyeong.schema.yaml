schema:
  schema_id: mungyeong
  name: ÊñáÈè°
  version: '20250807'
  author:
    - kuroame
  description: |
    ÈüìÂõΩË™ûÂÖ•ÂäõÊ©ü
  dependencies:
    - mungyeong_dubeolsik
    - mungyeong_romaja
    - mungyeong_reverse
    # - kagiroi
    # - moran


switches:
  - name: ascii_mode
    states: [ Ìïú, ÏòÅ ]
  - name: candidates
    states: [ ÁÑ°, Êº¢ ]
  - name: meaning
    states: [ üö´üìñ , üìñ ]
engine:
  processors:
    - ascii_composer
    - lua_processor@*mungyeong/mungyeong_hangul_speller
    # - lua_processor@*kagiroi/kagiroi_kana_speller # for kagiroi revserse lookup
    - recognizer
    - key_binder
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    # - reverse_lookup_translator@kagiroi # for kagiroi # for kagiroi revserse lookup
    # - reverse_lookup_translator@moran # for kagiroi # for moran revserse lookup
    - lua_translator@*mungyeong/mungyeong_translator
  filters:
    - simplifier@meaning
    - uniquifier

translator:
  dictionary: mungyeong.extended
  enable_user_dict: true
  enable_completion: false
  enable_sentence: false

punctuator:
  __include: mungyeong:/punctuator

editor:
  bindings:
    Return: commit_script_text

mungyeong:
  # Choose the layout you want to use.
  # 2-set and romaja layouts are provided by default.
  # You can also define your own layout following these steps:
  # 1. Create new files:
  #    - mungyeong_your_layout.schema.yaml (reference: mungyeong_dubeolsik.schema.yaml)
  #    - mungyeong_your_layout.dict.yaml (reference: mungyeong_dubeolsik.dict.yaml)
  # 2. Add your layout as a dependency in the schema/dependencies of this file.
  # 3. Change the layout value: your_layout
  # 4. Re-deploy to apply changes
  layout: dubeolsik # dubeolsik, romaja

  # Automatically insert a space after selecting a candidate or committing text
  auto_space: true

meaning:
  option_name: meaning
  opencc_config: mungyeong_hanja_meaning.json
  show_in_comment: true
  tips: all
  comment_form:
    - "xform/-/ /"
  tags: [mungyeong]

kagiroi:
  dictionary: kagiroi_kanji
  prefix: "J"
  tag: kagiroi
  tips: „Äî„Ç´„ÇÆ„É≠„Ç§„Äï
  layout: romaji
  preedit_format:
    - xform/^J//
  speller:
    alphabet: -qwertyuiopasdfghjkl;zxcvbnm

moran:
  dictionary: moran.chars
  prefix: "C"
  tips: "„ÄîÈ≠îÁÑ∂„Äï"
  tag: moran
  preedit_format:
    - xform/^C//

recognizer:
  import_preset: default
  patterns:
    kagiroi: '^(?:J|\xE3\x81[\x81-\xBF]|\xE3\x82[\x80-\x9F]|\xE3\x83\xBC)(?:\xE3\x81[\x81-\xBF]|\xE3\x82[\x80-\x9F]|\xE3\x83\xBC|[a-z\-;])*$'
    moran: "^C[a-z]*$"
    mungyeong: '^(?:(?:\xEA[\xB0-\xBF]|\xEB[\x80-\xBF]|\xEC[\x80-\xBF]|\xED[\x80-\x9D])[\x80-\xBF]|\xED\x9E[\x80-\xA3]|\xE3\x84[\xB1-\xBF]|\xE3\x85[\x80-\xA3])(?:(?:(?:\xEA[\xB0-\xBF]|\xEB[\x80-\xBF]|\xEC[\x80-\xBF]|\xED[\x80-\x9D])[\x80-\xBF]|\xED\x9E[\x80-\xA3]|\xE3\x84[\xB1-\xBF]|\xE3\x85[\x80-\xA3])|[a-zA-Z])*$'

key_binder:
  import_preset: default
  bindings:
    __patch:
      - mungyeong:/key_bindings/mungyeong_switches